# Session Management

## What is Session Management?

Session Management is the process used by web applications to maintain a user's authenticated state across multiple HTTP requests. Since HTTP is a stateless protocol, session management allows the server to recognize and track a user after login.

---

## Why Session Management Is Important

- Maintains user authentication after login
- Tracks user activity across multiple requests
- Protects sensitive user data
- Prevents unauthorized access and impersonation

---

## What is a Cookie?

- A cookie is a small piece of data sent by a website and stored in a user's web browser while the user is browsing the website.
- Each time the user accesses the website, the browser sends the cookie back to the server to inform the website about the user's previous activity.

**Cookies are also known as:**
- HTTP cookies
- Web cookies
- Browser cookies

---

## Session ID / Session Tokens

A secure session identifier should follow these security best practices:

- Must be random and unpredictable (**high entropy**)
- Minimum length of **128 bits**
- Should be meaningless and not contain encoded user data
- The name should not reveal its purpose (avoid names like `user`, `auth`, `sessionid`)
- Should have a defined timeout and must not be reused
- Must be invalidated immediately on logout
- Must not be derived from shared secrets such as:
  - Username
  - Password
- Must be transmitted only over secure channels (**HTTPS**)
- Session timeout duration should be appropriate based on risk and usage

---

## Where Can Session Identifiers Be Stored?

- URL parameters
- Hidden form fields
- Cookies

---

## Session Persistence in URL Parameters

### Advantages

- Supports multiple simultaneous sessions in the same browser
- Works even if the client does not accept cookies

### Disadvantages

- Session ID is lost once the user leaves the website
- Session ID can leak through the **Referer** header when accessing external resources
- Session ID may be exposed via:
  - Browser history
  - Application logs
  - Proxy and server logs

---

## Session Persistence in Hidden Form Fields

### Advantages

- Supports multiple simultaneous sessions in the same browser
- Works even if the client does not accept cookies

### Disadvantages

- Session ID is lost once the user navigates away from the website
- All requests must be POST-based (session ID is not preserved in GET requests)
- Embedded resources such as images, JavaScript, and CSS cannot be securely handled

---

## Recommended Best Practice

- Use **secure, HTTP-only cookies** for session management
