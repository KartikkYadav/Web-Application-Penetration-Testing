# üîê API Security Considerations (Important for Pentesters)

Since you are working in penetration testing, here are key API-specific risks:

## 1. Broken Object Level Authorization (BOLA)
Accessing other users' resources by modifying IDs.

      GET /api/v1/users/43
## 2. Broken Authentication
- Weak JWT validation
- Accepting alg: none
- Long-lived tokens

## 3. Mass Assignment
Overwriting internal fields via JSON body.

## 4. Rate Limiting Issues
Brute-force and enumeration attacks.

## 5. Excessive Data Exposure
Returning sensitive internal fields in JSON.

## 6. Improper CORS Configuration
Allowing arbitrary origins.

## 7. Injection in JSON Parameters
SQLi, NoSQLi, Command Injection.

## üõ†Ô∏è Tools for API Testing (Security Perspective)
- Burp Suite
- Postman
- curl
- ffuf
- mitmproxy
- JWT Editor
- Swagger UI (for API discovery)

## vüì¶ Object and Action in API
In APIs, objects and actions define how resources are structured and manipulated.
- Object ‚Üí What the system manages (noun)
- Action ‚Üí What you do to that object (verb)
Understanding this is critical for finding authorization and logic flaws.

## 1Ô∏è‚É£ Object in API
An object represents a resource/entity in the system.
Objects are typically nouns and appear in the URL path.

## Common API Objects
- users
- accounts
- orders
- products
- invoices
- payments
- tickets
- comments
- files
- projects

### Example 1: User Object

    GET /api/users/007

- Object ‚Üí users
- Object ID ‚Üí 007

### Response:

    {
      "id": 7,
      "username": "rahul",
      "email": "rahul@example.com",
      "role": "user"
    }

### Example 2: Order Object

    GET /api/orders/9001

### Response:

    {
      "order_id": 9001,
      "user_id": 101,
      "amount": 1500,
      "status": "shipped"
    }

### Example 3: Nested Object

    GET /api/users/101/orders

- Parent Object ‚Üí users
- Child Object ‚Üí orders

This retrieves all orders belonging to user 101.

## 2Ô∏è‚É£ Action in API
An action defines what operation is performed on an object.

Actions are expressed using:

- HTTP methods (REST style)
- Action-based endpoints (RPC style)

## üîÅ A) RESTful Actions (Using HTTP Methods)

    Method	      Action	          Example
    GET           Read	            /users/101
    POST	        Create	          /users
    PUT          	Full update	      /users/101
    PATCH	        Partial update	  /users/101
    DELETE        	Remove	        /users/101

### Example 1: Create User

    POST /api/users

### Body:

    {
      "username": "testuser",
      "email": "test@example.com"
    }

- Object ‚Üí users
- Action ‚Üí POST (create)

### Example 2: Update Order

    PUT /api/orders/9001

- Object ‚Üí orders
- Action ‚Üí update

### Example 3: Delete Comment

    DELETE /api/comments/555

- Object ‚Üí comments
- Action ‚Üí delete

## üîÅ B) Action-Based Endpoints (Non-REST Style)
Some APIs define actions explicitly in the URL.

### Example 1: Reset Password

    POST /api/users/007/reset-password

- Object ‚Üí users
- Action ‚Üí reset-password

### Example 2: Cancel Order

    POST /api/orders/9001/cancel

- Object ‚Üí orders
- Action ‚Üí cancel

### Example 3: Transfer Funds

    POST /api/accounts/2001/transfer

- Object ‚Üí accounts
- Action ‚Üí transfer

### Example 4: Approve Invoice

    POST /api/invoices/300/approve

- Object ‚Üí invoices
- Action ‚Üí approve

## üß† Complex Object + Action Examples
### üè¶ Banking API Example

    GET    /accounts/5001
    POST   /accounts
    POST   /accounts/5001/withdraw
    POST   /accounts/5001/deposit
    POST   /accounts/5001/close

### Objects:

- accounts


### Actions:
- withdraw
- deposit
- close

## ‚òÅÔ∏è SaaS Application Example

    GET    /projects/10
    POST   /projects
    POST   /projects/10/archive
    POST   /projects/10/add-member
    DELETE /projects/10

### Objects:
- projects

### Actions:
- archive
- add-member
- delete

## ‚öñÔ∏è Object vs Action (Clear Comparison)

    Aspect	          Object        	Action
    Type	             Noun          	Verb
    Represents       	Resource	      Operation
    Example	          user, order	    create, delete, cancel
   
    
## üîç Security Perspective (Pentesting View)
Understanding object-action separation helps identify:

### üî¥ Object-Level Vulnerabilities
- IDOR / BOLA
- Unauthorized data access

### üî¥ Action-Level Vulnerabilities
- Privilege escalation
- Missing authorization checks
- Business logic flaws













